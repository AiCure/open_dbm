"use strict";(self.webpackChunkopendbm_website=self.webpackChunkopendbm_website||[]).push([[9320],{5318:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return m}});var o=n(7378);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},c=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,d=a(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,h=c["".concat(s,".").concat(m)]||c[m]||u[m]||i;return n?o.createElement(h,l(l({ref:t},d),{},{components:n})):o.createElement(h,l({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=c;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a.mdxType="string"==typeof e?e:r,l[1]=a;for(var p=2;p<i;p++)l[p]=n[p];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}c.displayName="MDXCreateElement"},2701:function(e,t,n){n.r(t),n.d(t,{assets:function(){return f},contentTitle:function(){return m},default:function(){return g},frontMatter:function(){return c},metadata:function(){return h},toc:function(){return b}});var o=n(5318),r=Object.defineProperty,i=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&d(e,n,t[n]);if(a)for(var n of a(t))p.call(t,n)&&d(e,n,t[n]);return e};const c={id:"opendbm-python-api",title:"OpenDBM Python API"},m=void 0,h={unversionedId:"opendbm-python-api",id:"opendbm-python-api",title:"OpenDBM Python API",description:"When we use OpenDBM python API, all the source codes come from the opendbm folder in our GitHub repo. opendbm folder is the main",source:"@site/extras/opendbm-python-api.md",sourceDirName:".",slug:"/opendbm-python-api",permalink:"/open_dbm/extras/opendbm-python-api",draft:!1,editUrl:"https://github.com/AiCure/open_dbm/blob/master/docs/docs/extras/opendbm-python-api.md",tags:[],version:"current",lastUpdatedAt:1667489573,formattedLastUpdatedAt:"11/3/2022",frontMatter:{id:"opendbm-python-api",title:"OpenDBM Python API"},sidebar:"extras",previous:{title:"OpenDBM Documentation",permalink:"/open_dbm/extras/odbm-doc"},next:{title:"OpenDBM API - Unit Test",permalink:"/open_dbm/extras/opendbm-python-api-unittest"}},f={},b=[{value:"1. dbm_lib",id:"1-dbm_lib",level:3},{value:"2. api_lib",id:"2-api_lib",level:3},{value:"a. model.py",id:"a-modelpy",level:4},{value:"b. util.py",id:"b-utilpy",level:4},{value:"3. pkg",id:"3-pkg",level:3},{value:"4. resources",id:"4-resources",level:3}],y={toc:b};function g(e){var t,n=e,{components:r}=n,d=((e,t)=>{var n={};for(var o in e)s.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&a)for(var o of a(e))t.indexOf(o)<0&&p.call(e,o)&&(n[o]=e[o]);return n})(n,["components"]);return(0,o.kt)("wrapper",(t=u(u({},y),d),i(t,l({components:r,mdxType:"MDXLayout"}))),(0,o.kt)("p",null,"When we use OpenDBM python API, all the source codes come from the opendbm folder in our GitHub repo. opendbm folder is the main\npackage we use to process input data. opendbm has four folders that consist of api_lib, dbm_lib, pkg, and resources."),(0,o.kt)("p",null,"To make it clear in the beginning, you will know that our structure in our repo reflects what is already documented in ",(0,o.kt)("a",{href:"../docs/biomaker-variables"},"Variables")," Section."),(0,o.kt)("figure",null,(0,o.kt)("img",{src:"../img/extras/api-docs-1.png",width:"100%",alt:"OpenDBM Folder"}),(0,o.kt)("figcaption",null,"OpenDBM Folder")),(0,o.kt)("h3",u({},{id:"1-dbm_lib"}),"1. dbm_lib"),(0,o.kt)("figure",null,(0,o.kt)("img",{src:"../img/extras/api-docs-2.png",width:"100%",alt:"dbm_lib Folder"}),(0,o.kt)("figcaption",null,"dbm_lib folder @ dbm_lib/dbm_features/raw_features")),(0,o.kt)("p",null,"When we mention dbm_lib for python API documentation, we refer to the folder \u201cdbm_lib/dbm_features/raw_features.\u201d\ndbm_lib is where all core modules are implemented. All the processing components must be stored here because this\nfolder is where we can use the components either with the Docker command or Python API"),(0,o.kt)("p",null,"Each children's folder (audio, movement, nlp, and video) represents the dbm group. In every children folder,\nthere will be modules where we perform the processing/inferring of our input data.\nFor example, below are the modules that live inside the movement folder."),(0,o.kt)("figure",null,(0,o.kt)("img",{src:"../img/extras/api-docs-3.png",width:"100%",alt:"movement Folder in dbm_lib"}),(0,o.kt)("figcaption",null,"movement Folder in dbm_lib")),(0,o.kt)("p",null,"The goal of each module here is to perform one task/processing. For instance, facial_tremor.py\nwill have a functionality to detect the facial tremor of the input data. If we want to add another functionality\nin openDBM, for example, motion detection, we should create a new module in this folder (assumed motion detection\nis part of movement dbm_group)."),(0,o.kt)("p",null,"The design we explained for the movement package also applied to other dbm groups such as video, nlp, and audio."),(0,o.kt)("p",null,"Lastly, in the same level of the dbm group folder, there is the util folder, which contains all utility functions used\nby all modules that need it. If we want to create/modify the modules in dbm_lib, please check all the utility\nfunctions first so we don't need to reinvent the wheel."),(0,o.kt)("h3",u({},{id:"2-api_lib"}),"2. api_lib"),(0,o.kt)("figure",null,(0,o.kt)("img",{src:"../img/extras/api-docs-4.png",width:"100%",alt:"api_lib Folder"}),(0,o.kt)("figcaption",null,"api_lib Folder")),(0,o.kt)("p",null,"api_lib is a  supporting package created so that we can use openDBM core modules with the python API call.\nLooking in the api_lib folder, we can see four folders (facial_activity, movement, speech, verbal_acoustics),\nwhich represent the dbm group, the same as we saw in the dmb_lib folder. In the same level of the dbm group folder,\nthere are also two modules that have functionality as follows:"),(0,o.kt)("h4",u({},{id:"a-modelpy"}),"a. model.py"),(0,o.kt)("p",null,"This module has the functionality to create the base model object that can be used after we execute the fit method\nin our Python API. This module also has a class to perform a processing/fit method in a dbm_group level."),(0,o.kt)("h4",u({},{id:"b-utilpy"}),"b. util.py"),(0,o.kt)("p",null,"This module is where all the utility functions are stored, related to the api_lib folder."),(0,o.kt)("figure",null,(0,o.kt)("img",{src:"../img/extras/api-docs-5.png",width:"100%",alt:"movement Folder in api_lib"}),(0,o.kt)("figcaption",null,"movement Folder in api_lib")),(0,o.kt)("p",null,"All the dbm group folders inside api","_","lib consistently have the same design as other folders.\nIf we look in the movement folder, we can see all the private modules (with the prefix \u201c","_","\u201d) that have\nthe same name/structure as the one in the dbm_lib folder."),(0,o.kt)("p",null,"All these private modules will execute the same as their respective modules in the dbm_lib folder. For example, module \u201c_vocal_tremor.py\u201d will execute processing \u201cvocal_tremor.py\u201d. The difference is that in these private modules, we assign the function to the class that will be used for our python API."),(0,o.kt)("p",null,"The \u201capi.py\u201d module is a module where we implement the python API call tailored to each of the dbm_group. "),(0,o.kt)("h3",u({},{id:"3-pkg"}),"3. pkg"),(0,o.kt)("p",null,"is where the model files are stored. In most of our processing/inferring, we get the weight from this pkg folder."),(0,o.kt)("b",null,"Note for the developer"),"; if you want to make the user download a new model file, you can direct the download path to the pkg folder. But if the model file is big (ex: 2GB), please consider directing the download path to their local path. The reason is users might try to use OpenDBM in many virtual environments. Their memory storage will be exhausted if we store large model files in the pkg folder in many virtual environments.",(0,o.kt)("h3",u({},{id:"4-resources"}),"4. resources"),(0,o.kt)("p",null,"This folder is created initially as a configuration to rename, clean, and structure OpenFace output. To make it consistent, if we need to add other configurations for processing a new model, please create it in this folder."))}g.isMDXComponent=!0}}]);